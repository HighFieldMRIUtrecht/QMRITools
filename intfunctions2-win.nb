(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    126044,       3184]
NotebookOptionsPosition[    112906,       2976]
NotebookOutlinePosition[    113680,       2999]
CellTagsIndexPosition[    113637,       2996]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Summary", "Subsection",
 CellChangeTimes->{{3.8707504095250263`*^9, 3.870750415028284*^9}, {
  3.870845564214911*^9, 
  3.870845565328517*^9}},ExpressionUUID->"0aca349d-2ae9-4f9a-b400-\
eda6367aaadd"],

Cell["\<\
Interpolation functions of large arrays in combination with parallel \
evaluation cannot be evaluated using normal code. 
Based on my educated guess has to do with issues of memory management of \
unpacked arrays and parallel kernels. 

To benefit from parallel evaluation using large datasets one has to overcome \
the burden of parallel distribution of large arrays which is very slow for \
arrays that are not in packed array form. Additionally using normal \
distribution of functions wont work since somehow the int-function is between \
13x and 50000x slower on parallel kernels (depending on size of data). This \
slowdown in on top of the slow parallel distribution of large arrays. 

Using using parallel evaluate of the direct definition of int function using \
packed arrays one is able to perform efficient parallel evaluation with the \
expected speed up of around 3x using 4 kernels. 

This has been tested on mac (12.5, i5) and windows (10, i7) in Mathematica \
13.1\
\>", "Text",
 CellChangeTimes->{{3.870846077571315*^9, 3.870846158620289*^9}, {
  3.8708463768451033`*^9, 3.870846441400996*^9}, {3.8708472843172073`*^9, 
  3.8708473163039713`*^9}, {3.870849292401412*^9, 3.870849404714744*^9}, {
  3.870851910390984*^9, 3.870851924104651*^9}, {3.870851961377924*^9, 
  3.8708520082364473`*^9}, {3.870852368709453*^9, 3.870852412360972*^9}, {
  3.870852859769415*^9, 3.870852913423311*^9}, {3.870853150886527*^9, 
  3.8708532899646473`*^9}, {3.870857354031162*^9, 3.8708573574806967`*^9}, {
  3.870857402885192*^9, 
  3.8708574038331566`*^9}},ExpressionUUID->"519d8796-b7bd-4318-8c80-\
cf4431fcef99"],

Cell[CellGroupData[{

Cell["Small data proof of slowdown", "Subsubsection",
 CellChangeTimes->{{3.8708463463440657`*^9, 3.870846349482685*^9}, 
   3.870849417034079*^9, {3.8708533050634336`*^9, 
   3.870853314220636*^9}},ExpressionUUID->"710c6873-a088-4b33-9c18-\
199963f9d8cc"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"5", ",", "10", ",", "10", ",", "1", ",", "6"}], "}"}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "=", "10"}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"normal", " ", "evaluation"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m1", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"f", "=", 
           RowBox[{"MakeIntFunc", "[", 
            RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res1", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"parallel", " ", "evaluation", " ", "using", " ", "distribute"}], 
    ",", " ", 
    RowBox[{
    "This", " ", "does", " ", "not", " ", "work", " ", "for", " ", "large", 
     " ", 
     RowBox[{
      RowBox[{
       RowBox[{"arrays", "!!"}], "!!"}], "!"}]}]}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m2", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"f", "=", 
           RowBox[{"MakeIntFunc", "[", 
            RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res2", "=", 
           RowBox[{"ParallelTable", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\n", 
  RowBox[{"(*", 
   RowBox[{
   "parallel", " ", "evaluation", " ", "using", " ", "distribute", " ", 
    "build", " ", "in", " ", "int", " ", "func"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m3", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"ParallelEvaluate", "[", 
           RowBox[{
            RowBox[{"f", "=", 
             RowBox[{"MakeIntFuncList", "[", 
              RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], 
          ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res3", "=", 
           RowBox[{"ParallelTable", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], "\n", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"!", 
    RowBox[{"!", 
     RowBox[{"!", 
      RowBox[{"!", 
       RowBox[{"!", 
        RowBox[{"!", 
         RowBox[{"!", 
          RowBox[{"!", 
           RowBox[{"!", 
            RowBox[{"!", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"winner", "!!"}], "!!"}], "!!"}], "!!"}], 
              "!"}]}]}]}]}]}]}]}]}]}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"parallel", " ", "evaluation", " ", "using", " ", "distribute"}], 
    ",", " ", 
    RowBox[{"custom", " ", "int", " ", "func"}]}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m4", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"ParallelEvaluate", "[", 
           RowBox[{
            RowBox[{"f", "=", 
             RowBox[{"MakeIntFunc", "[", 
              RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], 
          ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res4", "=", 
           RowBox[{"ParallelTable", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{"Column", "@", 
  RowBox[{"{", 
   RowBox[{"m1", ",", "m2", ",", "m3", ",", "m4"}], 
   "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"res1", "==", "res2", "==", "res3", "==", "res4"}]}], "Input",
 CellChangeTimes->{{3.870845576057851*^9, 3.870845776725205*^9}, {
  3.870845816990705*^9, 3.870845831559819*^9}, {3.8708458989399567`*^9, 
  3.870845900505801*^9}, {3.870846459234385*^9, 3.8708464659668713`*^9}, {
  3.8708468682252073`*^9, 3.870846880889351*^9}, {3.870847093681089*^9, 
  3.870847098912696*^9}, {3.870852604082213*^9, 3.870852613812742*^9}, {
  3.870853331120659*^9, 3.8708533355534*^9}, {3.8708533700891457`*^9, 
  3.870853388251116*^9}, {3.8708571367539864`*^9, 3.8708571393611*^9}, {
  3.870857291790662*^9, 3.8708572995208387`*^9}},
 CellLabel->
  "In[154]:=",ExpressionUUID->"590cc3bd-2106-4136-90e3-f0a29d348d5d"],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"{", 
      RowBox[{"34.4047407`", ",", 
       RowBox[{"{", 
        RowBox[{"0.0004129`", ",", "34.4043129`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"189.7986046`", ",", 
       RowBox[{"{", 
        RowBox[{"0.000188`", ",", "189.7984017`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"17.7206872`", ",", 
       RowBox[{"{", 
        RowBox[{"0.6605243`", ",", "17.0601458`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"16.3866888`", ",", 
       RowBox[{"{", 
        RowBox[{"0.0135032`", ",", "16.3731673`"}], "}"}]}], "}"}]}
   },
   DefaultBaseStyle->"Column",
   GridBoxAlignment->{"Columns" -> {{Left}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Column"]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852783506719*^9, 3.8708540306633453`*^9, 
  3.870857850715542*^9, 3.8708590258309145`*^9},
 CellLabel->
  "Out[169]=",ExpressionUUID->"4d2bbc19-be79-4d62-b562-4541f49df278"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852783506719*^9, 3.8708540306633453`*^9, 
  3.870857850715542*^9, 3.8708590259209757`*^9},
 CellLabel->
  "Out[170]=",ExpressionUUID->"7343adfd-5faa-4ba5-a328-bd8eda922337"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Large data solution", "Subsubsection",
 CellChangeTimes->{{3.8708463463440657`*^9, 3.870846349482685*^9}, {
  3.870847385341785*^9, 3.8708473891386023`*^9}, {3.8708494184735813`*^9, 
  3.870849418979995*^9}, {3.870853317562017*^9, 
  3.870853323997368*^9}},ExpressionUUID->"048a9d4f-fa56-42e5-b560-\
1263de34c848"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"50", ",", "160", ",", "160", ",", "1", ",", "6"}], "}"}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "=", "10"}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"normal", " ", "evaluation"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m1", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"f", "=", 
           RowBox[{"MakeIntFunc", "[", 
            RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res1", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "parallel", " ", "evaluation", " ", "using", " ", "distribute", " ", 
    "build", " ", "in", " ", "int", " ", "func"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m3", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"ParallelEvaluate", "[", 
           RowBox[{
            RowBox[{"f", "=", 
             RowBox[{"MakeIntFuncList", "[", 
              RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], 
          ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res3", "=", 
           RowBox[{"ParallelTable", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\n", 
  RowBox[{"(*", 
   RowBox[{"!", 
    RowBox[{"!", 
     RowBox[{"!", 
      RowBox[{"!", 
       RowBox[{"!", 
        RowBox[{"!", 
         RowBox[{"!", 
          RowBox[{"!", 
           RowBox[{"!", 
            RowBox[{"!", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"winner", "!!"}], "!!"}], "!!"}], "!!"}], 
              "!"}]}]}]}]}]}]}]}]}]}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"parallel", " ", "evaluation", " ", "using", " ", "distribute"}], 
    ",", " ", 
    RowBox[{"custom", " ", "int", " ", "func"}]}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "f", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"m4", "=", 
    RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"t1", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"ParallelEvaluate", "[", 
           RowBox[{
            RowBox[{"f", "=", 
             RowBox[{"MakeIntFunc", "[", 
              RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";"}], "]"}], 
          ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"t2", "=", 
       RowBox[{
        RowBox[{"AbsoluteTiming", "[", 
         RowBox[{
          RowBox[{"res4", "=", 
           RowBox[{"ParallelTable", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Do", "[", 
               RowBox[{
                RowBox[{"f", "[", 
                 RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
                RowBox[{"{", "n", "}"}]}], "]"}], ";", 
              RowBox[{"f", "[", 
               RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}],
           ";"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{"Column", "@", 
  RowBox[{"{", 
   RowBox[{"m1", ",", "m3", ",", "m4"}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"res1", "==", "res3", "==", "res4"}]}], "Input",
 CellChangeTimes->{{3.870845576057851*^9, 3.870845776725205*^9}, {
   3.870845816990705*^9, 3.870845831559819*^9}, {3.8708458989399567`*^9, 
   3.870845900505801*^9}, {3.870846459234385*^9, 3.8708464659668713`*^9}, {
   3.8708468682252073`*^9, 3.870846880889351*^9}, {3.870847093681089*^9, 
   3.870847098912696*^9}, {3.870852604082213*^9, 3.870852613812742*^9}, {
   3.870853331120659*^9, 3.8708533355534*^9}, {3.8708533700891457`*^9, 
   3.870853388251116*^9}, {3.870857058345578*^9, 3.8708570587489862`*^9}, {
   3.8708571145228024`*^9, 3.870857134299532*^9}, {3.870857278318682*^9, 
   3.870857305770638*^9}, 3.8708592510867443`*^9, {3.8708593309834237`*^9, 
   3.8708593310410776`*^9}},ExpressionUUID->"b5d2409d-1f68-4eb2-a52d-\
b1e607971c44"],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"{", 
      RowBox[{"33.0514082`", ",", 
       RowBox[{"{", 
        RowBox[{"0.4631274`", ",", "32.5882632`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"189.7986046`", ",", 
       RowBox[{"{", 
        RowBox[{"0.000188`", ",", "189.7984017`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"16.3275805`", ",", 
       RowBox[{"{", 
        RowBox[{"0.7027249`", ",", "15.6248381`"}], "}"}]}], "}"}]}
   },
   DefaultBaseStyle->"Column",
   GridBoxAlignment->{"Columns" -> {{Left}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Column"]], "Output",
 CellChangeTimes->{3.8708592392902317`*^9, 3.87085932392971*^9},
 CellLabel->
  "Out[197]=",ExpressionUUID->"22a4d67b-00b4-4dbf-8a49-204d72ec58be"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.8708592392902317`*^9, 3.8708593240105247`*^9},
 CellLabel->
  "Out[198]=",ExpressionUUID->"831f13ba-f931-439e-bfd5-310b642564d2"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Column", "@", 
  RowBox[{"{", 
   RowBox[{"m1", ",", "m3", ",", "m4"}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"res1", "==", "res3", "==", "res4"}]}], "Input",
 CellLabel->
  "In[199]:=",ExpressionUUID->"3a746175-f44e-4ee2-a0f3-7a8c6597759c"],

Cell[BoxData[
 TagBox[GridBox[{
    {
     RowBox[{"{", 
      RowBox[{"33.0514082`", ",", 
       RowBox[{"{", 
        RowBox[{"0.4631274`", ",", "32.5882632`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"21.1686036`", ",", 
       RowBox[{"{", 
        RowBox[{"4.025577`", ",", "17.1430075`"}], "}"}]}], "}"}]},
    {
     RowBox[{"{", 
      RowBox[{"16.3275805`", ",", 
       RowBox[{"{", 
        RowBox[{"0.7027249`", ",", "15.6248381`"}], "}"}]}], "}"}]}
   },
   DefaultBaseStyle->"Column",
   GridBoxAlignment->{"Columns" -> {{Left}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Column"]], "Output",
 CellChangeTimes->{3.8708593358494625`*^9},
 CellLabel->
  "Out[199]=",ExpressionUUID->"1840d07e-4e70-4b90-88b7-141f6b0913a2"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.8708593359354153`*^9},
 CellLabel->
  "Out[200]=",ExpressionUUID->"a0c3acb2-3f02-4dbd-8779-45656be2fd94"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Basic evaluation timing", "Subsection",
 CellChangeTimes->{{3.8707504095250263`*^9, 
  3.870750415028284*^9}},ExpressionUUID->"ad2682c5-95d8-4dfb-be44-\
592cc64e544b"],

Cell[CellGroupData[{

Cell["Make Some Data", "Subsubsection",
 CellChangeTimes->{{3.8707500467684546`*^9, 
  3.870750055390071*^9}},ExpressionUUID->"f2886838-22ed-4bf9-a4d4-\
cbd786f321c5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"50", ",", "160", ",", "160", ",", "1", ",", "6"}], "}"}]}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr2", "=", 
   RowBox[{"rr6", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "All", ",", "All", ",", "All", ",", 
      RowBox[{"1", ";;", "2"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr", "=", 
   RowBox[{"rr6", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "All", ",", "All", ",", "1", ",", "1"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"rr", ",", "rr2", ",", "rr6"}], "}"}], "=", 
   RowBox[{"FromPackedArray", "/@", 
    RowBox[{"{", 
     RowBox[{"rr", ",", "rr2", ",", "rr6"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"rrp", ",", "rr2p", ",", "rr6p"}], "}"}], "=", 
   RowBox[{"ToPackedArray", "/@", 
    RowBox[{"{", 
     RowBox[{"rr", ",", "rr2", ",", "rr6"}], "}"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.870333206912595*^9, 3.8703332318363304`*^9}, {
  3.8703340325272803`*^9, 3.8703340750878153`*^9}, {3.8703342714410906`*^9, 
  3.8703342858727784`*^9}, {3.870334343249344*^9, 3.8703343903857803`*^9}, {
  3.8703350544667645`*^9, 3.870335056529729*^9}, {3.870335226531336*^9, 
  3.8703352678915195`*^9}, {3.870335699414983*^9, 3.870335699540615*^9}, {
  3.870339422785802*^9, 3.870339424334713*^9}, {3.8703408332322855`*^9, 
  3.870340837379154*^9}, {3.870343178492525*^9, 3.8703431813080816`*^9}, {
  3.870839484816526*^9, 3.8708395267459373`*^9}, {3.87084248159656*^9, 
  3.870842481720477*^9}},
 CellLabel->"In[35]:=",ExpressionUUID->"61a53e09-1833-474f-9189-e2024df1d676"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"MBCount", "/@", 
  RowBox[{"{", 
   RowBox[{"rr", ",", "rr2", ",", "rr6"}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"MBCount", "/@", 
  RowBox[{"{", 
   RowBox[{"rrp", ",", "rr2p", ",", "rr6p"}], "}"}]}]}], "Input",
 CellChangeTimes->{{3.8707498983760767`*^9, 3.8707499232138433`*^9}, {
  3.8707500305904293`*^9, 3.870750032203749*^9}, {3.870750089276229*^9, 
  3.8707500895172143`*^9}},
 CellLabel->"In[41]:=",ExpressionUUID->"8df2482a-5a44-450e-aef9-a721b418941f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"31.299647999999998`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"], ",", 
   TemplateBox[{"184.89964799999998`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"], ",", 
   TemplateBox[{"307.779648`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"]}], "}"}]], "Output",
 CellChangeTimes->{3.870750332258392*^9, 3.87075142046249*^9, 
  3.870768642466782*^9, 3.87083953127036*^9, 3.870852259216773*^9, 
  3.870853646213009*^9, 3.870856840583864*^9},
 CellLabel->"Out[41]=",ExpressionUUID->"a9c3638d-f031-4a62-915c-e581bfe2c643"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TemplateBox[{"10.240216`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"], ",", 
   TemplateBox[{"20.480231999999997`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"], ",", 
   TemplateBox[{"61.440231999999995`", "\"MB\"", "megabytes", "\"Megabytes\""},
    "Quantity"]}], "}"}]], "Output",
 CellChangeTimes->{3.870750332258392*^9, 3.87075142046249*^9, 
  3.870768642466782*^9, 3.87083953127036*^9, 3.870852259216773*^9, 
  3.870853646213009*^9, 3.870856840599951*^9},
 CellLabel->"Out[42]=",ExpressionUUID->"d959ec56-b289-4959-8247-726db819cded"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Distribute between and evaluate on kernels", "Subsubsection",
 CellChangeTimes->{{3.8707501089443336`*^9, 3.8707501209263744`*^9}, {
  3.870750514276769*^9, 3.8707505155728235`*^9}, {3.870840924113361*^9, 
  3.8708409304475193`*^9}, {3.870845545740819*^9, 3.8708455461236877`*^9}, {
  3.870852292678883*^9, 
  3.87085229704405*^9}},ExpressionUUID->"d578623e-1fb3-46a3-a51b-\
0005cb8a216b"],

Cell["\<\
evaluation of unpacked arrays seems extremely slow on parallel kernels. \
\>", "Text",
 CellChangeTimes->{{3.870750657624982*^9, 3.8707506828684464`*^9}, {
  3.870839580881691*^9, 
  3.8708395887029953`*^9}},ExpressionUUID->"04663314-c27d-452c-adea-\
002bebb1da5f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"DistributeDefinitions", "[", "rr6", "]"}], ";"}], "//", 
  "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"DistributeDefinitions", "[", "rr6p", "]"}], ";"}], "//", 
  "AbsoluteTiming"}]}], "Input",
 CellChangeTimes->{{3.870749798545154*^9, 3.8707498100453033`*^9}, {
  3.870750080572219*^9, 3.8707500808333645`*^9}},
 CellLabel->"In[43]:=",ExpressionUUID->"a2bf6c33-bd58-46f3-94a3-85a46571f3bc"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"130.4203042`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.8707501999547405`*^9, 3.8707514475773067`*^9, 
  3.870839558720833*^9, 3.870852308640517*^9, 3.870853690547971*^9, 
  3.8708569710901985`*^9},
 CellLabel->"Out[43]=",ExpressionUUID->"d59b6fc0-e1c3-4ba1-82bf-bfabc0da9894"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.3576229`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.8707501999547405`*^9, 3.8707514475773067`*^9, 
  3.870839558720833*^9, 3.870852308640517*^9, 3.870853690547971*^9, 
  3.870856971443369*^9},
 CellLabel->"Out[44]=",ExpressionUUID->"db637ca7-b620-4b55-b8e2-9680e2b9a4f4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"PackedArrayQ", "@", "rr6"}], "]"}], "//", 
  "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"PackedArrayQ", "@", "rr6p"}], "]"}], "//", 
  "AbsoluteTiming"}]}], "Input",
 CellChangeTimes->{{3.8707501426080103`*^9, 3.8707501603808165`*^9}, {
  3.870750221557825*^9, 3.8707502221061697`*^9}},
 CellLabel->"In[45]:=",ExpressionUUID->"91017a69-73f1-4dfc-b85e-a3dd8a308c0c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"41.3260219`", ",", 
   RowBox[{"{", 
    RowBox[{"False", ",", "False", ",", "False", ",", "False"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.87075022285075*^9, 3.8707502494354315`*^9}, 
   3.870751470917512*^9, 3.87083957814915*^9, 3.870852347701782*^9, 
   3.8708537295426607`*^9, 3.870857012833251*^9},
 CellLabel->"Out[45]=",ExpressionUUID->"f1e69107-581c-42c5-8758-94cdf13d9224"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0017454`", ",", 
   RowBox[{"{", 
    RowBox[{"True", ",", "True", ",", "True", ",", "True"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.87075022285075*^9, 3.8707502494354315`*^9}, 
   3.870751470917512*^9, 3.87083957814915*^9, 3.870852347701782*^9, 
   3.8708537295426607`*^9, 3.8708570128342505`*^9},
 CellLabel->"Out[46]=",ExpressionUUID->"995bc334-d60b-4919-bfa6-b74cf660e31a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"rr6", "[", 
    RowBox[{"[", 
     RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}], "//", 
  "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"rr6p", "[", 
    RowBox[{"[", 
     RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}], "//", 
  "AbsoluteTiming"}]}], "Input",
 CellChangeTimes->{{3.8707501426080103`*^9, 3.8707501603808165`*^9}, {
  3.870750221557825*^9, 3.8707502221061697`*^9}, {3.8707502667527976`*^9, 
  3.870750277809555*^9}},
 CellLabel->"In[47]:=",ExpressionUUID->"aff283b1-1acd-4f6a-91d8-72f6a531df44"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"43.2247613`", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}]}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8707503001872077`*^9, 3.870751492138381*^9, 
  3.8708395977202873`*^9, 3.870852386594728*^9, 3.87085376753191*^9, 
  3.870857056123822*^9},
 CellLabel->"Out[47]=",ExpressionUUID->"24e3d7db-c160-400b-bd4d-10f6d9347cad"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0018438`", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
       "0.4195118850474764`", ",", "0.1976856756928005`", ",", 
        "0.3996328074708122`", ",", "0.11603630648212193`", ",", 
        "0.6925823135755871`", ",", "0.2831154045200064`"}], "}"}], "}"}]}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8707503001872077`*^9, 3.870751492138381*^9, 
  3.8708395977202873`*^9, 3.870852386594728*^9, 3.87085376753191*^9, 
  3.8708570561396365`*^9},
 CellLabel->"Out[48]=",ExpressionUUID->"a7bd9475-6292-4580-afbd-0a27daf30960"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Making int functions", "Subsubsection",
 CellChangeTimes->{{3.8703432417899947`*^9, 
  3.87034324724841*^9}},ExpressionUUID->"262b3d97-27be-420a-9745-\
009691669b51"],

Cell["\<\
Directly define InterpolationFunction gives identical result as using \
ListInterpolation and thus in performance.\
\>", "Text",
 CellChangeTimes->{{3.8703440837794414`*^9, 3.8703440891973395`*^9}, {
  3.870839625917294*^9, 
  3.870839643704352*^9}},ExpressionUUID->"faa3e02c-8f9a-4e24-be99-\
ccfa91d33857"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"funcs", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"d", ",", "vox", ",", "1"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"f", ",", 
       RowBox[{"{", 
        RowBox[{"MakeIntFuncList", ",", "MakeIntFunc"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"d", ",", 
       RowBox[{"{", 
        RowBox[{
        "rr", ",", "rr2", ",", "rr6", ",", "rrp", ",", "rr2p", ",", "rr6p"}], 
        "}"}]}], "}"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{"Table", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"funcs", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "i"}], "]"}], "]"}], "==", 
    RowBox[{"funcs", "[", 
     RowBox[{"[", 
      RowBox[{"2", ",", "i"}], "]"}], "]"}]}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", "6"}], "}"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"funcs", "[", 
   RowBox[{"[", 
    RowBox[{"All", ",", 
     RowBox[{"1", ";;", "3"}]}], "]"}], "]"}], "==", 
  RowBox[{"funcs", "[", 
   RowBox[{"[", 
    RowBox[{"All", ",", 
     RowBox[{"4", ";;", "6"}]}], "]"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.8703384562187552`*^9, 3.8703384564613633`*^9}, {
  3.870343205308955*^9, 3.8703432060110874`*^9}},
 CellLabel->"In[49]:=",ExpressionUUID->"9bf750d1-169c-4c7f-80d1-7d224a2bde3e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "True", ",", "True", ",", "True", ",", "True", ",", "True", ",", "True"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.8707503617968307`*^9, 3.870751497348001*^9, 
  3.87083965086187*^9, 3.870852682230788*^9, 3.8708537782240887`*^9, 
  3.87085706821459*^9},
 CellLabel->"Out[50]=",ExpressionUUID->"6ae33b1b-3c23-4db1-a645-28bb400f9e11"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.8707503617968307`*^9, 3.870751497348001*^9, 
  3.87083965086187*^9, 3.870852682230788*^9, 3.8708537782240887`*^9, 
  3.8708570686597114`*^9},
 CellLabel->"Out[51]=",ExpressionUUID->"4b2872f6-a013-43db-94a5-ec2bac2b960a"]
}, Open  ]],

Cell["\<\
The data stored in the 4 th location for vector interpolation of a \
IntFunction is never a PackedArray, even if the data given to the int \
function is in packed form.
For scalar it is vectorized and packed in the form {PackedArray, index, \
values}.

so when a intfunction is made it cannot be moved to a parallel kernel \
properly since its not a packed array form.\
\>", "Text",
 CellChangeTimes->{{3.870752013713118*^9, 3.870752086355522*^9}, {
  3.870752127780085*^9, 3.870752159968186*^9}, {3.870839659358979*^9, 
  3.870839744541614*^9}, {3.87085269461243*^9, 
  3.870852730164733*^9}},ExpressionUUID->"82e7ca07-9a2f-4681-ae77-\
1ff189be6dcc"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"ArrayQ", "[", "#", "]"}], ",", 
     RowBox[{"PackedArrayQ", "[", "#", "]"}], ",", 
     RowBox[{"PackedArrayQ", "[", 
      RowBox[{"#", "[", 
       RowBox[{"[", "3", "]"}], "]"}], "]"}]}], "]"}], "&"}], "/@", 
  RowBox[{"funcs", "[", 
   RowBox[{"[", 
    RowBox[{"1", ",", "All", ",", "4"}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"ArrayQ", "[", "#", "]"}], ",", 
     RowBox[{"PackedArrayQ", "[", "#", "]"}], ",", 
     RowBox[{"PackedArrayQ", "[", 
      RowBox[{"#", "[", 
       RowBox[{"[", "3", "]"}], "]"}], "]"}]}], "]"}], "&"}], "/@", 
  RowBox[{"funcs", "[", 
   RowBox[{"[", 
    RowBox[{"2", ",", "All", ",", "4"}], "]"}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.8707518958869247`*^9, 3.870751934553234*^9}, {
  3.8707519694886017`*^9, 3.8707520040599194`*^9}, {3.870752104944665*^9, 
  3.870752121889516*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"ada36306-2de6-4a84-88b2-e4b92d6a68e4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "True", ",", "False", ",", "False", ",", "True", ",", "False", ",", 
   "False"}], "}"}]], "Output",
 CellChangeTimes->{{3.870751917662097*^9, 3.870751935332309*^9}, 
   3.8707520052106133`*^9, {3.8707521113906813`*^9, 3.870752123515482*^9}, 
   3.87085268268961*^9, 3.870853778755061*^9, 3.8708570688239794`*^9},
 CellLabel->"Out[52]=",ExpressionUUID->"702c9127-661c-4c1d-9537-34ad8399be2a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "True", ",", "False", ",", "False", ",", "True", ",", "False", ",", 
   "False"}], "}"}]], "Output",
 CellChangeTimes->{{3.870751917662097*^9, 3.870751935332309*^9}, 
   3.8707520052106133`*^9, {3.8707521113906813`*^9, 3.870752123515482*^9}, 
   3.87085268268961*^9, 3.870853778755061*^9, 3.8708570689512672`*^9},
 CellLabel->"Out[53]=",ExpressionUUID->"0dbed7e0-4545-4f14-a3fc-3d3a410b40d0"]
}, Open  ]],

Cell["\<\
Since both are identical the performance is identical, however for short \
vectors there seems to be a consistent difference.\
\>", "Text",
 CellChangeTimes->{{3.8708400852421703`*^9, 3.87084009913584*^9}, {
  3.870856008563506*^9, 
  3.870856031142681*^9}},ExpressionUUID->"0aa95eba-7fab-4d01-9858-\
7b0133d80ee3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"eval", "=", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"First", "[", 
       RowBox[{"RepeatedTiming", "[", 
        RowBox[{"Do", "[", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
          RowBox[{"{", "10000", "}"}]}], "]"}], "]"}], "]"}], "&"}], ",", 
     "funcs", ",", 
     RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"TableForm", "[", 
  RowBox[{
   RowBox[{"Append", "[", 
    RowBox[{"eval", ",", 
     RowBox[{
      RowBox[{"eval", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "/", 
      RowBox[{"eval", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}]}], "]"}], ",", 
   RowBox[{"TableHeadings", "->", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "\"\<ListInt\>\"", ",", "\"\<IntFunc\>\"", ",", "\"\<ratio\>\""}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
       "\"\<scalar\>\"", ",", "\"\<short vec\>\"", ",", "\"\<long vec\>\"", 
        ",", "\"\<scalar P\>\"", ",", "\"\<short vecP\>\"", ",", 
        "\"\<long vecP\>\""}], "}"}]}], "}"}]}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.870343589628911*^9, 3.8703436176280127`*^9}, {
  3.870343649662566*^9, 3.870343696956576*^9}, {3.8703437321082363`*^9, 
  3.8703437322876844`*^9}, {3.870839759260553*^9, 3.870839857363068*^9}, {
  3.87083991818367*^9, 3.870839919700457*^9}},
 CellLabel->"In[54]:=",ExpressionUUID->"b772af55-10d4-4081-87c1-03d54c983c11"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      StyleBox["\[Null]",
       ShowStringCharacters->False], 
      TagBox["\<\"scalar\"\>",
       HoldForm], 
      TagBox["\<\"short vec\"\>",
       HoldForm], 
      TagBox["\<\"long vec\"\>",
       HoldForm], 
      TagBox["\<\"scalar P\"\>",
       HoldForm], 
      TagBox["\<\"short vecP\"\>",
       HoldForm], 
      TagBox["\<\"long vecP\"\>",
       HoldForm]},
     {
      TagBox["\<\"ListInt\"\>",
       HoldForm], "0.0673021625`", "0.13244385`", "0.194041575`", 
      "0.06641419375`", "0.1358834375`", "0.18943275`"},
     {
      TagBox["\<\"IntFunc\"\>",
       HoldForm], "0.06521569375`", "0.15178215`", "0.1491678`", 
      "0.06264990625`", "0.147345775`", "0.151234225`"},
     {
      TagBox["\<\"ratio\"\>",
       HoldForm], "1.0319933535936663`", "0.8725917375659786`", 
      "1.3008274909196222`", "1.0600844873570743`", "0.9222078983941006`", 
      "1.2525785747240747`"}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{
     "Columns" -> {False, True, {False}, False}, 
      "Rows" -> {False, True, {False}, False}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   {OutputFormsDump`HeadedRows, OutputFormsDump`HeadedColumns}],
  Function[BoxForm`e$, 
   TableForm[
   BoxForm`e$, 
    TableHeadings -> {{"ListInt", "IntFunc", "ratio"}, {
      "scalar", "short vec", "long vec", "scalar P", "short vecP", 
       "long vecP"}}]]]], "Output",
 CellChangeTimes->{3.8708527043418293`*^9, 3.8708538003358793`*^9, 
  3.870857089496381*^9},
 CellLabel->
  "Out[55]//TableForm=",ExpressionUUID->"f4fb63d4-0316-491e-b66f-\
e70c1667b45b"]
}, Open  ]],

Cell["\<\
It is faster to do directly define InterpolatingFunction
For vector output with ListInterpolation its better not to uses packed \
arrays, in all other cases one should use packed arrays.
Probably because the InterpolationFunction needs to unpack the array.\
\>", "Text",
 CellChangeTimes->{{3.870344099447988*^9, 3.87034411074949*^9}, {
  3.8707515390233727`*^9, 3.870751539654558*^9}, {3.870840127911537*^9, 
  3.870840160042925*^9}},ExpressionUUID->"f37b0e75-5a15-4dd5-b6fb-\
48290cd8e0c7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"time", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"First", "@", 
      RowBox[{"AbsoluteTiming", "@", 
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"f", "[", 
          RowBox[{"d", ",", "vox", ",", "1"}], "]"}], ",", 
         RowBox[{"{", "5", "}"}]}], "]"}]}]}], ",", 
     RowBox[{"{", 
      RowBox[{"f", ",", 
       RowBox[{"{", 
        RowBox[{"MakeIntFuncList", ",", "MakeIntFunc"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"d", ",", 
       RowBox[{"{", 
        RowBox[{
        "rr", ",", "rr2", ",", "rr6", ",", "rrp", ",", "rr2p", ",", "rr6p"}], 
        "}"}]}], "}"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{"TableForm", "[", 
  RowBox[{
   RowBox[{"Append", "[", 
    RowBox[{"time", ",", 
     RowBox[{
      RowBox[{"time", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "/", 
      RowBox[{"time", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}]}], "]"}], ",", 
   RowBox[{"TableHeadings", "->", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "\"\<ListInt\>\"", ",", "\"\<IntFunc\>\"", ",", "\"\<ratio\>\""}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
       "\"\<scalar\>\"", ",", "\"\<short vec\>\"", ",", "\"\<long vec\>\"", 
        ",", "\"\<scalar P\>\"", ",", "\"\<short vecP\>\"", ",", 
        "\"\<long vecP\>\""}], "}"}]}], "}"}]}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"TableForm", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"time", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", 
       RowBox[{"1", ";;", "3"}]}], "]"}], "]"}], "/", 
    RowBox[{"time", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", 
       RowBox[{"4", ";;", "6"}]}], "]"}], "]"}]}], ",", 
   RowBox[{"TableHeadings", "->", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\"\<ListInt\>\"", ",", "\"\<IntFunc\>\""}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
       "\"\<scalar UP/P\>\"", ",", "\"\<short vec UP/P\>\"", ",", 
        "\"\<long vec UP/P\>\""}], "}"}]}], "}"}]}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.8703351200101795`*^9, 3.8703351938909025`*^9}, {
  3.870335284804968*^9, 3.8703352909800687`*^9}, {3.8703354837342052`*^9, 
  3.8703354862444086`*^9}, {3.870335608454872*^9, 3.870335612809843*^9}, {
  3.8703359049233956`*^9, 3.870335905492153*^9}, {3.870343324878502*^9, 
  3.8703433529075737`*^9}, {3.870343431773357*^9, 3.8703434335158744`*^9}, {
  3.8703435325237355`*^9, 3.8703435334037123`*^9}, {3.870839927384253*^9, 
  3.8708400565288553`*^9}},
 CellLabel->"In[56]:=",ExpressionUUID->"038e29ba-5100-4d51-8cf5-71462c5025df"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      StyleBox["\[Null]",
       ShowStringCharacters->False], 
      TagBox["\<\"scalar\"\>",
       HoldForm], 
      TagBox["\<\"short vec\"\>",
       HoldForm], 
      TagBox["\<\"long vec\"\>",
       HoldForm], 
      TagBox["\<\"scalar P\"\>",
       HoldForm], 
      TagBox["\<\"short vecP\"\>",
       HoldForm], 
      TagBox["\<\"long vecP\"\>",
       HoldForm]},
     {
      TagBox["\<\"ListInt\"\>",
       HoldForm], "4.0173665`", "6.9731994`", "8.0278901`", "0.8158908`", 
      "9.479576`", "11.7737072`"},
     {
      TagBox["\<\"IntFunc\"\>",
       HoldForm], "0.3537761`", "4.9970184`", "5.194909`", "0.1926827`", 
      "3.0048133`", "3.3459051`"},
     {
      TagBox["\<\"ratio\"\>",
       HoldForm], "11.355675242052811`", "1.3954720278796653`", 
      "1.5453379645341239`", "4.234374959454066`", "3.1547970051916367`", 
      "3.5188407465591305`"}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{
     "Columns" -> {False, True, {False}, False}, 
      "Rows" -> {False, True, {False}, False}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   {OutputFormsDump`HeadedRows, OutputFormsDump`HeadedColumns}],
  Function[BoxForm`e$, 
   TableForm[
   BoxForm`e$, 
    TableHeadings -> {{"ListInt", "IntFunc", "ratio"}, {
      "scalar", "short vec", "long vec", "scalar P", "short vecP", 
       "long vecP"}}]]]], "Output",
 CellChangeTimes->{3.8707515392133017`*^9, 3.870840081522111*^9, 
  3.870852751690569*^9, 3.870853847593423*^9, 3.8708571478801765`*^9},
 CellLabel->
  "Out[57]//TableForm=",ExpressionUUID->"891cf512-3446-4597-93c4-\
61b37ad976fa"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      StyleBox["\[Null]",
       ShowStringCharacters->False], 
      TagBox["\<\"scalar UP/P\"\>",
       HoldForm], 
      TagBox["\<\"short vec UP/P\"\>",
       HoldForm], 
      TagBox["\<\"long vec UP/P\"\>",
       HoldForm]},
     {
      TagBox["\<\"ListInt\"\>",
       HoldForm], "4.92390219377397`", "0.7356024573250955`", 
      "0.681848967672646`"},
     {
      TagBox["\<\"IntFunc\"\>",
       HoldForm], "1.8360553386474239`", "1.663004619954258`", 
      "1.5526169585622738`"}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{
     "Columns" -> {False, True, {False}, False}, 
      "Rows" -> {False, True, {False}, False}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   {OutputFormsDump`HeadedRows, OutputFormsDump`HeadedColumns}],
  Function[BoxForm`e$, 
   TableForm[
   BoxForm`e$, 
    TableHeadings -> {{"ListInt", "IntFunc"}, {
      "scalar UP/P", "short vec UP/P", "long vec UP/P"}}]]]], "Output",
 CellChangeTimes->{3.8707515392133017`*^9, 3.870840081522111*^9, 
  3.870852751690569*^9, 3.870853847593423*^9, 3.870857147896844*^9},
 CellLabel->
  "Out[58]//TableForm=",ExpressionUUID->"2c3cccc8-ab30-4e56-a12c-\
4c16491a16d4"]
}, Open  ]],

Cell["\<\
It is faster to use vector interpolation when evaluating multiple parameters, \
vector evaluation is around 2x slower than scalar.
But for vector interpolation it doesn\[CloseCurlyQuote]t matter how big the \
vector is, the time remains the same.

So for interpolation of 6 arrays its better to use vectors.\
\>", "Text",
 CellChangeTimes->{{3.870344099447988*^9, 3.87034411074949*^9}, {
  3.8703442271010876`*^9, 3.870344240828379*^9}, {3.870344332957486*^9, 
  3.870344379533272*^9}, {3.870751695460655*^9, 3.870751736591975*^9}, {
  3.870840259620811*^9, 
  3.870840285013254*^9}},ExpressionUUID->"cf9eb09e-2175-4e4b-a358-\
1961cd3b0c9c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"fs6", "=", 
   RowBox[{"funcs", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "4"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fv2", "=", 
   RowBox[{"funcs", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "5"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fv6", "=", 
   RowBox[{"funcs", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "6"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"First", "@", 
    RowBox[{"AbsoluteTiming", "@", 
     RowBox[{"Do", "[", 
      RowBox[{
       RowBox[{"fs6", "[", 
        RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
       RowBox[{"{", "10000", "}"}]}], "]"}]}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"First", "@", 
    RowBox[{"AbsoluteTiming", "@", 
     RowBox[{"Do", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
         RowBox[{"fs6", "[", 
          RowBox[{"20", ",", "20", ",", "20"}], "]"}]}], "}"}], ",", 
       RowBox[{"{", "10000", "}"}]}], "]"}]}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"First", "@", 
    RowBox[{"AbsoluteTiming", "@", 
     RowBox[{"Do", "[", 
      RowBox[{
       RowBox[{"fv2", "[", 
        RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
       RowBox[{"{", "10000", "}"}]}], "]"}]}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"First", "@", 
    RowBox[{"AbsoluteTiming", "@", 
     RowBox[{"Do", "[", 
      RowBox[{
       RowBox[{"fv6", "[", 
        RowBox[{"20", ",", "20", ",", "20"}], "]"}], ",", 
       RowBox[{"{", "10000", "}"}]}], "]"}]}]}]}], "}"}]}], "Input",
 CellChangeTimes->{{3.870344051969391*^9, 3.8703440757747245`*^9}, {
  3.8703441365894623`*^9, 3.870344207278186*^9}, {3.870344296544829*^9, 
  3.8703443250413833`*^9}, {3.870751587594591*^9, 3.8707516793282557`*^9}, {
  3.870751764156743*^9, 3.870751795106444*^9}, {3.8708401898391123`*^9, 
  3.870840236569557*^9}},
 CellLabel->"In[59]:=",ExpressionUUID->"4f6e81e1-0773-46b5-afc9-7e4aade0afde"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.0641154`", ",", "0.395481`", ",", "0.1489084`", ",", "0.153341`"}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.870751492304297*^9, 3.870751558023222*^9, {3.8707516363859043`*^9, 
   3.870751679778998*^9}, {3.870751775558352*^9, 3.870751796672985*^9}, 
   3.870840223260046*^9, 3.870840288154628*^9, 3.870852752504019*^9, 
   3.870853848381481*^9, 3.870857148731454*^9},
 CellLabel->"Out[62]=",ExpressionUUID->"2b88cda2-de7b-4dfd-a273-920c47217dae"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["defining int function on parallel kernels", "Subsubsection",
 CellChangeTimes->{{3.870849517225935*^9, 
  3.870849532742546*^9}},ExpressionUUID->"f60e01ed-dbeb-4a42-9491-\
f64c19be9e6d"],

Cell["\<\
however for parallel evaluation it seems slower, but in the overall \
performance this does actually seems the fastest solution .\
\>", "Text",
 CellChangeTimes->{{3.8708560550243063`*^9, 
  3.870856098996789*^9}},ExpressionUUID->"fad81f23-e527-4de2-9d28-\
3ab189beeab9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AbsoluteTiming", "[", 
   RowBox[{
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"f", "=", 
      RowBox[{"MakeIntFuncList", "[", 
       RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "]"}], 
  "[", 
  RowBox[{"[", "1", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AbsoluteTiming", "[", 
   RowBox[{
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"f", "=", 
      RowBox[{"MakeIntFuncList", "[", 
       RowBox[{"rr6p", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "]"}], 
  "[", 
  RowBox[{"[", "1", "]"}], "]"}]}], "Input",
 CellChangeTimes->{{3.8708512638234243`*^9, 3.870851315113195*^9}},
 CellLabel->"In[63]:=",ExpressionUUID->"527baf2c-5849-4fad-a0e7-54cfb54c1685"],

Cell[BoxData["141.6452931`"], "Output",
 CellChangeTimes->{3.870851197307452*^9, 3.8708513448663588`*^9, 
  3.870853904009809*^9, 3.8708572912965736`*^9},
 CellLabel->"Out[64]=",ExpressionUUID->"34ad6a10-b165-4b87-90fe-692a544993d7"],

Cell[BoxData["102.2384394`"], "Output",
 CellChangeTimes->{3.870851197307452*^9, 3.8708513448663588`*^9, 
  3.870853904009809*^9, 3.870857394463173*^9},
 CellLabel->"Out[66]=",ExpressionUUID->"466724ed-295c-478b-bf92-6b4818b53871"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AbsoluteTiming", "[", 
   RowBox[{
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"f", "=", 
      RowBox[{"MakeIntFunc", "[", 
       RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "]"}], 
  "[", 
  RowBox[{"[", "1", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", "f", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AbsoluteTiming", "[", 
   RowBox[{
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"f", "=", 
      RowBox[{"MakeIntFunc", "[", 
       RowBox[{"rr6p", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "]"}], 
  "[", 
  RowBox[{"[", "1", "]"}], "]"}]}], "Input",
 CellChangeTimes->{{3.870851060302765*^9, 3.870851090555718*^9}, {
  3.870851275704052*^9, 3.870851323866029*^9}, {3.870851395553247*^9, 
  3.870851408164812*^9}, {3.8708514601681633`*^9, 3.870851460921318*^9}},
 CellLabel->"In[67]:=",ExpressionUUID->"fa12f5c6-6606-4d54-9878-fd21d7d8f23a"],

Cell[BoxData["260.7809555`"], "Output",
 CellChangeTimes->{3.870851095979287*^9, 3.870851150494776*^9, 
  3.870851393046267*^9, 3.8708514535727043`*^9, 3.8708539906893473`*^9, 
  3.8708576566269965`*^9},
 CellLabel->"Out[68]=",ExpressionUUID->"f33735a0-ac57-4283-a05d-b2478f1e2c3c"],

Cell[BoxData["185.1386624`"], "Output",
 CellChangeTimes->{3.870851095979287*^9, 3.870851150494776*^9, 
  3.870851393046267*^9, 3.8708514535727043`*^9, 3.8708539906893473`*^9, 
  3.870857842786122*^9},
 CellLabel->"Out[70]=",ExpressionUUID->"4b25ebfe-6a65-40c7-8133-eb45badcee36"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Test Parallel performance", "Subsection",
 CellChangeTimes->{{3.8703437806251287`*^9, 
  3.8703437875704293`*^9}},ExpressionUUID->"aa34366e-634b-4a6a-840f-\
2c2014cd5503"],

Cell[CellGroupData[{

Cell["small dataset", "Subsubsection",
 CellChangeTimes->{{3.8703446743411565`*^9, 3.8703446775568914`*^9}, {
   3.870840692343453*^9, 3.870840692591297*^9}, {3.870840773851959*^9, 
   3.870840808098382*^9}, 
   3.87084462736688*^9},ExpressionUUID->"33941e42-fbe2-418a-af93-\
b07e4f0a125a"],

Cell["\<\
Distributed parallel evaluation is around 15 x slower than when using \
parallel evaluate, this can be seen in use in ParallelTable as well although \
there its only a factor 6.\
\>", "Text",
 CellChangeTimes->{{3.870844647602096*^9, 3.870844670552121*^9}, 
   3.870852789577807*^9, {3.8708561210122843`*^9, 
   3.870856149746467*^9}},ExpressionUUID->"5c5cdefc-2e0a-481f-b5fb-\
c0ae5a38693e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"5", ",", "10", ",", "10", ",", "1", ",", "6"}], "}"}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6U", " ", "=", " ", 
   RowBox[{"FromPackedArray", "@", "rr6"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"rr6", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "All", ",", "All", ",", "1", ",", "1"}], "]"}], 
     "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.8703444924146256`*^9, {3.8703446496789117`*^9, 3.870344653103348*^9}, {
   3.870346110210334*^9, 3.8703461110889473`*^9}, {3.8707573634128637`*^9, 
   3.8707573879731817`*^9}, {3.870840351551571*^9, 3.870840368311413*^9}, {
   3.87084041191954*^9, 3.870840416295608*^9}, {3.870840715836639*^9, 
   3.870840726693*^9}, {3.8708413561906357`*^9, 3.8708413572241907`*^9}, {
   3.870842343686636*^9, 3.870842343855669*^9}},
 CellLabel->"In[71]:=",ExpressionUUID->"d2f5087e-d5e1-407d-86ae-72cce1a539c4"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"f", ",", "fp"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", 
    RowBox[{"f", ",", "fp"}], "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"f", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";", 
      RowBox[{"DistributeDefinitions", "[", "f", "]"}]}], ")"}], ";"}], "//", 
   "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ParallelEvaluate", "[", 
      RowBox[{"fp", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "//", 
    "AbsoluteTiming"}], "//", "First"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"RepeatedTiming", "[", 
  RowBox[{"f", "[", 
   RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{
   RowBox[{"o1", "=", 
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"RepeatedTiming", "[", 
      RowBox[{"f", "[", 
       RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t1", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o1", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o1", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{
   RowBox[{"o2", "=", 
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"RepeatedTiming", "[", 
      RowBox[{"fp", "[", 
       RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], ";"}], 
  "]"}], "\n", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t2", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o2", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o2", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"t1", "/", "t2"}]}], "Input",
 CellChangeTimes->{{3.870840977992508*^9, 3.8708409814016657`*^9}, {
   3.870841406826908*^9, 3.870841424557642*^9}, {3.8708419014417763`*^9, 
   3.870841967315152*^9}, {3.8708420203164873`*^9, 3.870842026704578*^9}, {
   3.870842849645009*^9, 3.870842850194558*^9}, {3.8708438302251167`*^9, 
   3.870843831546277*^9}, {3.870843900570652*^9, 3.8708439043342113`*^9}, {
   3.870844002384284*^9, 3.870844123962141*^9}, 3.8708452069087467`*^9},
 CellLabel->"In[75]:=",ExpressionUUID->"180672ad-fab2-4f33-827e-12a83f817867"],

Cell[BoxData["0.0455315`"], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.870857843360948*^9},
 CellLabel->"Out[77]=",ExpressionUUID->"c8300297-5d2a-40ac-989e-ccff0218e7b4"],

Cell[BoxData["0.6898173`"], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.8708578440429125`*^9},
 CellLabel->"Out[78]=",ExpressionUUID->"f6294d30-53e2-4240-bfe5-8cd451695fc5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.00001503966064453125`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5005111494389799`", ",", "0.5255360960089996`", ",", 
     "0.2798387172263673`", ",", "0.5337270155282197`", ",", 
     "0.29460732716324256`", ",", "0.825668425043147`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.870857845096936*^9},
 CellLabel->"Out[79]=",ExpressionUUID->"6bd42902-7e3a-4dde-b066-ee30c87cf6f2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.2349027`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.87085784633877*^9},
 CellLabel->"Out[80]=",ExpressionUUID->"55b1dbdb-008a-4d15-8d65-6d107536be43"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.00028650028076171875`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5005111494389799`", ",", "0.5255360960089996`", ",", 
     "0.2798387172263673`", ",", "0.5337270155282197`", ",", 
     "0.29460732716324256`", ",", "0.825668425043147`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.87085784633877*^9},
 CellLabel->"Out[81]=",ExpressionUUID->"372b2438-7d52-49bc-8a87-dacee3cf9294"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.4420661`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.870857847783385*^9},
 CellLabel->"Out[82]=",ExpressionUUID->"b41c4d6d-e8cb-4690-bf3f-a87d144aa91a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.000020280729675292968`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5005111494389799`", ",", "0.5255360960089996`", ",", 
     "0.2798387172263673`", ",", "0.5337270155282197`", ",", 
     "0.29460732716324256`", ",", "0.825668425043147`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.870857847783385*^9},
 CellLabel->"Out[83]=",ExpressionUUID->"f873dbbd-13d5-4158-80ef-e41f2a7d1b43"],

Cell[BoxData["14.12672449900795`"], "Output",
 CellChangeTimes->{3.870846813448929*^9, 3.870852761624817*^9, 
  3.870854021816818*^9, 3.870857847783385*^9},
 CellLabel->"Out[84]=",ExpressionUUID->"d175b389-c453-45fd-99cc-ad22726fe0bf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"a", "=", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"f", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], 
    ";"}], "//", "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"b", "=", 
     RowBox[{"ParallelTable", "[", 
      RowBox[{
       RowBox[{"f", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], 
    ";"}], "//", "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"c", "=", 
      RowBox[{"ParallelTable", "[", 
       RowBox[{
        RowBox[{"fp", "[", 
         RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], 
     ";"}], "//", "AbsoluteTiming"}], "//", "First"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"a", "==", "b"}], ",", 
   RowBox[{"a", "===", "b"}], ",", 
   RowBox[{"b", "==", "c"}], ",", 
   RowBox[{"b", "===", "c"}], ",", 
   RowBox[{"a", "==", "c"}], ",", 
   RowBox[{"a", "===", "c"}]}], "}"}]}], "Input",
 CellChangeTimes->{{3.870340892390501*^9, 3.8703409345476465`*^9}, {
   3.8703410469637876`*^9, 3.8703410979089346`*^9}, {3.8703411330624065`*^9, 
   3.8703411734448013`*^9}, {3.8703415524038877`*^9, 3.870341588150508*^9}, {
   3.8703423639563475`*^9, 3.8703423731258593`*^9}, 3.8703424223709793`*^9, {
   3.870342501391464*^9, 3.870342515580581*^9}, 3.8703425601541786`*^9, 
   3.870342924061045*^9, {3.8703437773422403`*^9, 3.8703438033415256`*^9}, {
   3.8703439254230537`*^9, 3.870343928253928*^9}, 3.8703443875352097`*^9, {
   3.870344420276712*^9, 3.8703444215861425`*^9}, 3.8703444586329203`*^9, {
   3.8703445391851254`*^9, 3.8703445501742144`*^9}, {3.8703450735542784`*^9, 
   3.870345130080493*^9}, {3.8708405018694973`*^9, 3.8708405091229877`*^9}},
 CellLabel->"In[85]:=",ExpressionUUID->"0e915ae6-4898-4b7e-988f-c6f08cc4fc13"],

Cell[BoxData["19.7718279`"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852783506719*^9, 3.8708540306633453`*^9, 
  3.870857870505864*^9},
 CellLabel->"Out[86]=",ExpressionUUID->"b863634f-8b75-4362-9b48-af34b705f8b6"],

Cell[BoxData["7.2265105`"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852783506719*^9, 3.8708540306633453`*^9, 
  3.8708578777323904`*^9},
 CellLabel->"Out[87]=",ExpressionUUID->"57c2d990-dcbc-45bd-9138-2f44cd23d4e2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "True", ",", "False", ",", "True", ",", "True", ",", "True", ",", "False"}],
   "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852783506719*^9, 3.8708540306633453`*^9, 
  3.870857877780099*^9},
 CellLabel->"Out[88]=",ExpressionUUID->"9974382e-285d-40f0-83bb-a016e46ef2c0"]
}, Open  ]],

Cell["\<\
Now paralllel table seems to work as expected . and it doesnt matter much \
which method is used .\
\>", "Text",
 CellChangeTimes->{{3.870856165873487*^9, 
  3.870856200911262*^9}},ExpressionUUID->"ad8d53bf-e2ee-478f-9063-\
a6a55ab0daaa"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"n", "=", "20"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res1", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"f", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"f", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res2", "=", 
    RowBox[{"ParallelTable", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"fp", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"fp", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"res1", "==", "res2"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ParallelTable", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Do", "[", 
       RowBox[{
        RowBox[{"fp", "[", 
         RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
        RowBox[{"{", "n", "}"}]}], "]"}], ";"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Method", "->", "\"\<CoarsestGrained\>\""}]}], "]"}], ";"}], "//",
   "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ParallelTable", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Do", "[", 
       RowBox[{
        RowBox[{"fp", "[", 
         RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
        RowBox[{"{", "n", "}"}]}], "]"}], ";"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Method", "->", "\"\<FinestGrained\>\""}]}], "]"}], ";"}], "//", 
  "AbsoluteTiming"}]}], "Input",
 CellChangeTimes->{{3.870341610613554*^9, 3.8703416478295374`*^9}, {
   3.870341727341815*^9, 3.870341733718567*^9}, {3.870341766104067*^9, 
   3.8703417678140206`*^9}, {3.8703422546140485`*^9, 
   3.8703422646023426`*^9}, {3.8703447164319153`*^9, 3.870344734049741*^9}, {
   3.8703450943508005`*^9, 3.870345119008788*^9}, {3.8703452011231413`*^9, 
   3.870345207681566*^9}, {3.870345253136633*^9, 3.870345261396545*^9}, 
   3.8708450943424463`*^9},
 CellLabel->"In[89]:=",ExpressionUUID->"d5ca6ac9-f9e0-41e3-9fd3-f3957e02ea0b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"61.712113`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852770082703*^9, 3.870852863757018*^9, 
  3.8708541024612103`*^9, 3.870857939558505*^9},
 CellLabel->"Out[90]=",ExpressionUUID->"5e3887bb-8189-4d29-bbab-b9dbb2515671"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"26.3789067`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852770082703*^9, 3.870852863757018*^9, 
  3.8708541024612103`*^9, 3.8708579659321623`*^9},
 CellLabel->"Out[91]=",ExpressionUUID->"306d7977-2bb6-4ac7-9c6f-23b882669b22"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852770082703*^9, 3.870852863757018*^9, 
  3.8708541024612103`*^9, 3.87085796598059*^9},
 CellLabel->"Out[92]=",ExpressionUUID->"c2e0f5d1-d3f7-4795-a90b-07f04db6a772"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"24.3065956`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852770082703*^9, 3.870852863757018*^9, 
  3.8708541024612103`*^9, 3.870857990264223*^9},
 CellLabel->"Out[93]=",ExpressionUUID->"738dcb27-2620-4c14-9611-d8fecb2829d9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"21.5220488`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846839305769*^9, 
  3.870846960980062*^9, 3.870852770082703*^9, 3.870852863757018*^9, 
  3.8708541024612103`*^9, 3.87085801178583*^9},
 CellLabel->"Out[94]=",ExpressionUUID->"deffa2c7-1064-4347-8d02-4ea1f8ad3269"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Bigger dataset - scaling performance issue with distribute", \
"Subsubsection",
 CellChangeTimes->{{3.8703446743411565`*^9, 3.8703446775568914`*^9}, {
  3.8703454267527905`*^9, 3.8703454560310245`*^9}, {3.8703461324328623`*^9, 
  3.8703461391209784`*^9}, {3.870842403165921*^9, 
  3.870842413572764*^9}},ExpressionUUID->"71f15aaa-b629-418e-8ab4-\
054201d1ccbb"],

Cell["\<\
Distributed parallel evaluation is around 1200 x slower than when using \
parallel evaluate\
\>", "Text",
 CellChangeTimes->{{3.870844647602096*^9, 3.870844670552121*^9}, {
  3.870852841060206*^9, 3.8708528417915163`*^9}, {3.870852936611547*^9, 
  3.8708529366695223`*^9}},ExpressionUUID->"dbc15ec3-49ed-492b-ab97-\
481ac9273151"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"15", ",", "50", ",", "50", ",", "1", ",", "6"}], "}"}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6U", " ", "=", " ", 
   RowBox[{"FromPackedArray", "@", "rr6"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"rr6", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "All", ",", "All", ",", "1", ",", "1"}], "]"}], 
     "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.8703444924146256`*^9, {3.8703446496789117`*^9, 3.870344653103348*^9}, {
   3.8703454357128296`*^9, 3.870345441137807*^9}, {3.8703461022105227`*^9, 
   3.870346103153964*^9}, {3.870768197741123*^9, 3.870768198876637*^9}, 
   3.8707682354636917`*^9, {3.870840830536528*^9, 3.870840839150621*^9}, {
   3.870840958789006*^9, 3.870840972750195*^9}},
 CellLabel->"In[95]:=",ExpressionUUID->"224edf3e-4efb-4a65-93eb-a5b0df03d001"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"f", ",", "fp"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", 
    RowBox[{"f", ",", "fp"}], "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"f", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";", 
      RowBox[{"DistributeDefinitions", "[", "f", "]"}]}], ")"}], ";"}], "//", 
   "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ParallelEvaluate", "[", 
      RowBox[{"fp", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "//", 
    "AbsoluteTiming"}], "//", "First"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"RepeatedTiming", "[", 
  RowBox[{"f", "[", 
   RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{
   RowBox[{"o1", "=", 
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"RepeatedTiming", "[", 
      RowBox[{"f", "[", 
       RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t1", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o1", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o1", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{
   RowBox[{"o2", "=", 
    RowBox[{"ParallelEvaluate", "[", 
     RowBox[{"RepeatedTiming", "[", 
      RowBox[{"fp", "[", 
       RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], ";"}], 
  "]"}], "\n", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t2", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o2", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o2", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"t1", "/", "t2"}]}], "Input",
 CellChangeTimes->{{3.870840977992508*^9, 3.8708409814016657`*^9}, {
   3.870841406826908*^9, 3.870841424557642*^9}, {3.8708419014417763`*^9, 
   3.870841967315152*^9}, {3.8708420203164873`*^9, 3.870842026704578*^9}, {
   3.870842849645009*^9, 3.870842850194558*^9}, {3.8708438302251167`*^9, 
   3.870843831546277*^9}, {3.870843900570652*^9, 3.8708439043342113`*^9}, {
   3.870844002384284*^9, 3.870844123962141*^9}, 3.8708451944992332`*^9},
 CellLabel->"In[99]:=",ExpressionUUID->"f9f52d25-0edb-4399-a112-aab8b16451cb"],

Cell[BoxData["5.7966305`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.8708580176628904`*^9},
 CellLabel->
  "Out[101]=",ExpressionUUID->"9da4fe8f-79b9-4d25-bc33-ac2add87b4aa"],

Cell[BoxData["5.4214089`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.870858023106702*^9},
 CellLabel->
  "Out[102]=",ExpressionUUID->"dfefe88e-7c20-4c94-bd74-3894e0f76d65"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.000015508699035644532`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.35365164589359477`", ",", "0.11351570471648648`", ",", 
     "0.6582063562124749`", ",", "0.35995744009432307`", ",", 
     "0.33666814746484036`", ",", "0.6767516274175251`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.8708580251066046`*^9},
 CellLabel->
  "Out[103]=",ExpressionUUID->"399d58f7-edb8-4f63-90cb-3d9b86fa1f89"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"2.5182235`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.870858027624175*^9},
 CellLabel->
  "Out[104]=",ExpressionUUID->"55ac4e8d-633b-4a0d-ac69-8088b42c41ee"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.02874387734375`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.35365164589359477`", ",", "0.11351570471648648`", ",", 
     "0.6582063562124749`", ",", "0.35995744009432307`", ",", 
     "0.33666814746484036`", ",", "0.6767516274175251`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.870858027624175*^9},
 CellLabel->
  "Out[105]=",ExpressionUUID->"70db27d0-2880-48ca-9d58-d5a4cc5c69aa"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.4327662`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.8708580290581656`*^9},
 CellLabel->
  "Out[106]=",ExpressionUUID->"47072cfd-ec77-4062-8431-d1d5f628f848"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.000020239875030517578`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.35365164589359477`", ",", "0.11351570471648648`", ",", 
     "0.6582063562124749`", ",", "0.35995744009432307`", ",", 
     "0.33666814746484036`", ",", "0.6767516274175251`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.8708580290581656`*^9},
 CellLabel->
  "Out[107]=",ExpressionUUID->"67e1dec6-5e22-4321-a21f-92f65a41d4a0"],

Cell[BoxData["1420.1608112900963`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.8708528972372437`*^9, 3.870854151984139*^9, 3.870858029073945*^9},
 CellLabel->
  "Out[108]=",ExpressionUUID->"48dd5320-5b25-44f3-859f-e5263c8bf3a0"]
}, Open  ]],

Cell["\<\
With distributed definitions its so slow it does not even run overnight.\
\>", "Text",
 CellChangeTimes->{{3.87085296469775*^9, 3.870852977865677*^9}, {
  3.870856218070085*^9, 
  3.870856221198021*^9}},ExpressionUUID->"7fc15083-54a7-457d-a410-\
92b3eace5e80"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"a", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"f", "[", 
         RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], 
     ";"}], "//", "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"ParallelTable", "[", 
       RowBox[{
        RowBox[{"f", "[", 
         RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}], ";"}],
      "//", "AbsoluteTiming"}], "//", "First"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"c", "=", 
     RowBox[{"ParallelTable", "[", 
      RowBox[{
       RowBox[{"fp", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], 
    ";"}], "//", "AbsoluteTiming"}], "//", "First"}]}], "Input",
 CellChangeTimes->{{3.870340892390501*^9, 3.8703409345476465`*^9}, {
   3.8703410469637876`*^9, 3.8703410979089346`*^9}, {3.8703411330624065`*^9, 
   3.8703411734448013`*^9}, {3.8703415524038877`*^9, 3.870341588150508*^9}, {
   3.8703423639563475`*^9, 3.8703423731258593`*^9}, 3.8703424223709793`*^9, {
   3.870342501391464*^9, 3.870342515580581*^9}, 3.8703425601541786`*^9, 
   3.870342924061045*^9, {3.8703437773422403`*^9, 3.8703438033415256`*^9}, {
   3.8703439254230537`*^9, 3.870343928253928*^9}, 3.8703443875352097`*^9, {
   3.870344420276712*^9, 3.8703444215861425`*^9}, 3.8703444586329203`*^9, {
   3.8703445391851254`*^9, 3.8703445501742144`*^9}, {3.8703450735542784`*^9, 
   3.870345130080493*^9}, {3.8708405018694973`*^9, 3.8708405091229877`*^9}, {
   3.870844756997883*^9, 3.8708447641967287`*^9}, {3.870852956682486*^9, 
   3.8708529592256517`*^9}},
 CellLabel->
  "In[109]:=",ExpressionUUID->"2373af55-2a8f-4f43-a956-8388517af2d3"],

Cell[BoxData["2.9230389`"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.8708448714451227`*^9, 
  3.870852905714251*^9, 3.870854160271757*^9, 3.8708580320545435`*^9},
 CellLabel->
  "Out[109]=",ExpressionUUID->"0e905b4d-e71f-4fa2-828a-483926166e49"],

Cell[BoxData["7.2310955`"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.8708448714451227`*^9, 
  3.870852905714251*^9, 3.870854160271757*^9, 3.8708580392815647`*^9},
 CellLabel->
  "Out[110]=",ExpressionUUID->"0178c9f2-f037-44a7-8192-33e9be65a467"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"n", "=", "20"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res1", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"f", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"f", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res2", "=", 
    RowBox[{"ParallelTable", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"fp", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"fp", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{"res1", "==", "res2"}]}], "Input",
 CellChangeTimes->{{3.870341610613554*^9, 3.8703416478295374`*^9}, {
  3.870341727341815*^9, 3.870341733718567*^9}, {3.870341766104067*^9, 
  3.8703417678140206`*^9}, {3.8703422546140485`*^9, 3.8703422646023426`*^9}, {
  3.8703447164319153`*^9, 3.870344734049741*^9}, {3.8703450943508005`*^9, 
  3.870345119008788*^9}, {3.8703452011231413`*^9, 3.870345207681566*^9}, {
  3.870345253136633*^9, 3.870345261396545*^9}, {3.8703458932180643`*^9, 
  3.8703458957139378`*^9}, {3.8703459434589024`*^9, 3.8703459435384593`*^9}, {
  3.870844960585864*^9, 3.8708450001521997`*^9}},
 CellLabel->
  "In[111]:=",ExpressionUUID->"247ae090-c68a-4f60-b156-f223f15aaf4d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"61.9833874`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846826674714*^9, 
  3.8708468998358793`*^9, 3.87085296604935*^9, 3.870854219425866*^9, 
  3.870858101320798*^9},
 CellLabel->
  "Out[112]=",ExpressionUUID->"d3bfc811-a167-4fc8-951c-73cac2052530"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"26.8746921`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846826674714*^9, 
  3.8708468998358793`*^9, 3.87085296604935*^9, 3.870854219425866*^9, 
  3.870858128214781*^9},
 CellLabel->
  "Out[113]=",ExpressionUUID->"90aa613b-11d0-44ea-8d13-15b306ac970f"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.870757401007763*^9, 3.870840512454748*^9, 
  3.870840745331812*^9, 3.870841368261466*^9, 3.870842361214569*^9, 
  3.870844168551557*^9, 3.870844634287294*^9, 3.870846826674714*^9, 
  3.8708468998358793`*^9, 3.87085296604935*^9, 3.870854219425866*^9, 
  3.870858128214781*^9},
 CellLabel->
  "Out[114]=",ExpressionUUID->"7d662b09-5a07-4429-b07c-db99067fced2"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Actual dataset", "Subsubsection",
 CellChangeTimes->{{3.870346142341365*^9, 
  3.870346156225087*^9}},ExpressionUUID->"dd5bf366-9bf5-4406-a520-\
d55ebf261259"],

Cell["\<\
Distributed parallel evaluation is around 50000 x slower than when using \
parallel evaluate\
\>", "Text",
 CellChangeTimes->{{3.870844647602096*^9, 3.870844670552121*^9}, {
  3.870852814464035*^9, 
  3.870852815274119*^9}},ExpressionUUID->"6c2bb313-732e-48b0-b32d-\
ee29dfaf7f49"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vox", "=", 
   RowBox[{"{", 
    RowBox[{"6", ",", "3", ",", "3"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"RandomReal", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"50", ",", "160", ",", "160", ",", "1", ",", "6"}], "}"}]}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr6U", " ", "=", " ", 
   RowBox[{"FromPackedArray", "@", "rr6"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr", "=", 
   RowBox[{"ToPackedArray", "@", 
    RowBox[{"rr6", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "All", ",", "All", ",", "1", ",", "1"}], "]"}], 
     "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.8703444924146256`*^9, {3.8703446496789117`*^9, 3.870344653103348*^9}, {
   3.8703454357128296`*^9, 3.870345441137807*^9}, {3.8703461022105227`*^9, 
   3.870346103153964*^9}, {3.870768197741123*^9, 3.870768198876637*^9}, 
   3.8707682354636917`*^9, {3.870840830536528*^9, 3.870840839150621*^9}, {
   3.870840958789006*^9, 3.870840972750195*^9}, {3.870842454493515*^9, 
   3.870842462423428*^9}},
 CellLabel->
  "In[115]:=",ExpressionUUID->"28fdc823-2a77-48c2-a4a3-d9526127456d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"f", ",", "fp"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParallelEvaluate", "[", 
   RowBox[{"ClearAll", "[", 
    RowBox[{"f", ",", "fp"}], "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"f", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], ";", 
      RowBox[{"DistributeDefinitions", "[", "f", "]"}]}], ")"}], ";"}], "//", 
   "AbsoluteTiming"}], "//", "First"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ParallelEvaluate", "[", 
      RowBox[{"fp", "=", 
       RowBox[{"MakeIntFunc", "[", 
        RowBox[{"rr6", ",", "vox", ",", "1"}], "]"}]}], "]"}], ";"}], "//", 
    "AbsoluteTiming"}], "//", "First"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"RepeatedTiming", "[", 
  RowBox[{"f", "[", 
   RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"o1", "=", 
   RowBox[{"ParallelEvaluate", "[", 
    RowBox[{"RepeatedTiming", "[", 
     RowBox[{"f", "[", 
      RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t1", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o1", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o1", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"o2", "=", 
   RowBox[{"ParallelEvaluate", "[", 
    RowBox[{"RepeatedTiming", "[", 
     RowBox[{"fp", "[", 
      RowBox[{"20", ",", "20", ",", "20"}], "]"}], "]"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"t2", "=", 
    RowBox[{"Mean", "@", 
     RowBox[{"o2", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ",", 
   RowBox[{"Mean", "@", 
    RowBox[{"o2", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"t1", "/", "t2"}]}], "Input",
 CellChangeTimes->{{3.870840977992508*^9, 3.8708409814016657`*^9}, {
  3.870841406826908*^9, 3.870841424557642*^9}, {3.8708419014417763`*^9, 
  3.870841967315152*^9}, {3.8708420203164873`*^9, 3.870842026704578*^9}, {
  3.870842849645009*^9, 3.870842850194558*^9}, {3.8708438302251167`*^9, 
  3.870843831546277*^9}, {3.870843900570652*^9, 3.8708439043342113`*^9}, {
  3.870844002384284*^9, 3.870844123962141*^9}},
 CellLabel->
  "In[119]:=",ExpressionUUID->"05b33286-b2fe-447b-b3ef-35f18e74bece"],

Cell[BoxData["206.9431686`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.8708583357369137`*^9},
 CellLabel->
  "Out[121]=",ExpressionUUID->"62fea933-f8ea-4f39-bf94-a4a82bfe5fbe"],

Cell[BoxData["230.8750262`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.87085856722628*^9},
 CellLabel->
  "Out[122]=",ExpressionUUID->"8d6b686a-fe9c-406e-8b03-6a0f88d4a18e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.00001630496826171875`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.24995147375093676`", ",", "0.685582957198749`", ",", 
     "0.40875627092083605`", ",", "0.48685732220922473`", ",", 
     "0.22223286659106647`", ",", "0.33883868804410433`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.8708585683011465`*^9},
 CellLabel->
  "Out[123]=",ExpressionUUID->"071e185e-fc64-458b-90af-f0d03773f5a3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.064208325`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.24995147375093676`", ",", "0.685582957198749`", ",", 
     "0.40875627092083605`", ",", "0.48685732220922473`", ",", 
     "0.22223286659106647`", ",", "0.33883868804410433`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.8708585920916376`*^9},
 CellLabel->
  "Out[125]=",ExpressionUUID->"fd729907-9af9-426d-87bc-68c65d05bef6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.00002155493240356445`", ",", 
   RowBox[{"{", 
    RowBox[{
    "0.24995147375093676`", ",", "0.685582957198749`", ",", 
     "0.40875627092083605`", ",", "0.48685732220922473`", ",", 
     "0.22223286659106647`", ",", "0.33883868804410433`"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.870858593572978*^9},
 CellLabel->
  "Out[127]=",ExpressionUUID->"f637b064-a51a-44a1-b707-d9dacce5439d"],

Cell[BoxData["49371.916602439276`"], "Output",
 CellChangeTimes->{{3.870843604429771*^9, 3.870843616868919*^9}, {
   3.870843695729767*^9, 3.870843744308344*^9}, 3.870843832362837*^9, {
   3.8708438842249804`*^9, 3.8708439081776247`*^9}, {3.8708440282577753`*^9, 
   3.870844050366044*^9}, {3.870844095744329*^9, 3.87084412433258*^9}, 
   3.870844609461594*^9, 3.870844779394989*^9, 3.870844829235838*^9, 
   3.870845183776271*^9, 3.870853056220443*^9, 3.870854280824298*^9, 
   3.8708585935886884`*^9},
 CellLabel->
  "Out[128]=",ExpressionUUID->"2fa79269-e477-4252-a569-ffd6180b483a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"n", "=", "20"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res1", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"f", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"f", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"res2", "=", 
    RowBox[{"ParallelTable", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Do", "[", 
        RowBox[{
         RowBox[{"fp", "[", 
          RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
         RowBox[{"{", "n", "}"}]}], "]"}], ";", 
       RowBox[{"fp", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "2", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "5", ",", "10", ",", ".1"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "5", ",", "10", ",", ".1"}], "}"}]}], "]"}]}], ";"}],
   "//", "AbsoluteTiming"}], "\[IndentingNewLine]", 
 RowBox[{"res1", "==", "res2"}]}], "Input",
 CellChangeTimes->{{3.870341610613554*^9, 3.8703416478295374`*^9}, {
   3.870341727341815*^9, 3.870341733718567*^9}, {3.870341766104067*^9, 
   3.8703417678140206`*^9}, {3.8703422546140485`*^9, 
   3.8703422646023426`*^9}, {3.8703447164319153`*^9, 3.870344734049741*^9}, {
   3.8703450943508005`*^9, 3.870345119008788*^9}, {3.8703452011231413`*^9, 
   3.870345207681566*^9}, {3.870345253136633*^9, 3.870345261396545*^9}, {
   3.8703458932180643`*^9, 3.8703458957139378`*^9}, {3.8703459434589024`*^9, 
   3.8703459435384593`*^9}, 3.870845331076832*^9},
 CellLabel->
  "In[129]:=",ExpressionUUID->"56539c5e-c086-44c7-8b31-091502a8428b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"65.342823`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870853173966816*^9, 3.8708543951944113`*^9, 
  3.8708586589674425`*^9},
 CellLabel->
  "Out[130]=",ExpressionUUID->"ba1dc8a7-78ba-440f-924d-11290356f6f6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"30.0099612`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.870853173966816*^9, 3.8708543951944113`*^9, 
  3.8708586889889827`*^9},
 CellLabel->
  "Out[131]=",ExpressionUUID->"6e517d6e-164c-4e61-ac51-e27879a0f871"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.870853173966816*^9, 3.8708543951944113`*^9, 
  3.870858689008915*^9},
 CellLabel->
  "Out[132]=",ExpressionUUID->"d5c82526-d9ad-4738-8248-af58c1c230f3"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Functions", "Subsection",
 CellChangeTimes->{{3.870845526452325*^9, 
  3.870845529558962*^9}},ExpressionUUID->"4b19e438-7ab3-4f39-aab9-\
19bc65aafc42"],

Cell[BoxData[{
 RowBox[{"Needs", "[", "\"\<Developer`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ParallelEvaluate", "[", 
    RowBox[{"Needs", "[", "\"\<Developer`\>\"", "]"}], "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MBCount", "=", 
    RowBox[{
     RowBox[{"UnitConvert", "[", 
      RowBox[{
       RowBox[{"Quantity", "[", 
        RowBox[{
         RowBox[{"N", "@", 
          RowBox[{"ByteCount", "[", "#", "]"}]}], ",", "\"\<Byte\>\""}], 
        "]"}], ",", "\"\<MB\>\""}], "]"}], "&"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", 
    RowBox[{"MakeIntFunc", ",", "MakeIntFuncList"}], "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MakeIntFunc", "[", 
    RowBox[{"dat_", ",", "vox_", ",", 
     RowBox[{"int_", "?", "IntegerQ"}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"range", ",", 
       RowBox[{"d", "=", 
        RowBox[{"dat", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1", ",", "1"}], "]"}], "]"}]}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"range", "=", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{"{", 
          RowBox[{"vox", ",", 
           RowBox[{"vox", " ", 
            RowBox[{
             RowBox[{"Dimensions", "[", "dat", "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"1", ";;", "3"}], "]"}], "]"}]}]}], "}"}], "]"}], "-", 
        RowBox[{"(", 
         RowBox[{"0.5", " ", "vox"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"d", "=", 
       RowBox[{"0.", " ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"ListQ", "[", "d", "]"}], ",", 
          RowBox[{"Flatten", "@", "d"}], ",", "d"}], "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"ex", "=", "d"}], "}"}], ",", 
        RowBox[{"InterpolatingFunction", "[", 
         RowBox[{"range", ",", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "no", " ", "clue", " ", "what", " ", "this", " ", "vector", " ", 
            "means", " ", "just", " ", "copy", " ", "it", " ", "from", " ", 
            "output", " ", "of", " ", "ListInterpolation"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"5", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"ArrayDepth", "[", "dat", "]"}], "===", "3"}], ",", 
              "6", ",", "2"}], "]"}], ",", "0", ",", 
            RowBox[{
             RowBox[{"Dimensions", "[", "dat", "]"}], "[", 
             RowBox[{"[", 
              RowBox[{";;", "3"}], "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"int", ",", "int", ",", "int"}], "}"}], "+", "1"}], ",",
             "0", ",", "0", ",", "0", ",", "0", ",", 
            RowBox[{"ex", "&"}], ",", 
            RowBox[{"{", "}"}], ",", 
            RowBox[{"{", "}"}], ",", "False"}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"Range", "[", 
             RowBox[{
              RowBox[{"range", "[", 
               RowBox[{"[", 
                RowBox[{"#", ",", "1"}], "]"}], "]"}], ",", 
              RowBox[{"range", "[", 
               RowBox[{"[", 
                RowBox[{"#", ",", "2"}], "]"}], "]"}], ",", 
              RowBox[{"vox", "[", 
               RowBox[{"[", "#", "]"}], "]"}]}], "]"}], "&"}], "/@", 
           RowBox[{"{", 
            RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], ",", "dat", ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"Automatic", ",", "Automatic", ",", "Automatic"}], "}"}]}],
          "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MakeIntFuncList", "[", 
    RowBox[{"dat_", ",", "vox_", ",", 
     RowBox[{"int_", "?", "IntegerQ"}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"range", ",", 
       RowBox[{"d", "=", 
        RowBox[{"dat", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1", ",", "1"}], "]"}], "]"}]}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"range", "=", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{"{", 
          RowBox[{"vox", ",", 
           RowBox[{"vox", " ", 
            RowBox[{
             RowBox[{"Dimensions", "[", "dat", "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"1", ";;", "3"}], "]"}], "]"}]}]}], "}"}], "]"}], "-", 
        RowBox[{"(", 
         RowBox[{"0.5", " ", "vox"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"d", "=", 
       RowBox[{"0.", " ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"ListQ", "[", "d", "]"}], ",", 
          RowBox[{"Flatten", "@", "d"}], ",", "d"}], "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"ex", "=", "d"}], "}"}], ",", 
        RowBox[{"ListInterpolation", "[", 
         RowBox[{"dat", ",", "range", ",", 
          RowBox[{"InterpolationOrder", "->", "int"}], ",", 
          RowBox[{"\"\<ExtrapolationHandler\>\"", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"ex", "&"}], ",", 
             RowBox[{"\"\<WarningMessage\>\"", "->", "False"}]}], "}"}]}]}], 
         "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DistributeDefinitions", "[", 
   RowBox[{"MakeIntFunc", ",", "MakeIntFuncList"}], "]"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.8703344856661177`*^9, 3.870334503634764*^9}, 
   3.8703348975720463`*^9, {3.870334955524999*^9, 3.8703350173165183`*^9}, {
   3.8703356209980516`*^9, 3.8703356553490953`*^9}, {3.8703406970633774`*^9, 
   3.87034070624384*^9}, {3.8703407365017824`*^9, 3.870340786116153*^9}, {
   3.8703430781592484`*^9, 3.8703431356197023`*^9}, {3.8703431657106867`*^9, 
   3.870343166667088*^9}, {3.870345672548255*^9, 3.87034570704515*^9}, {
   3.8707500143828745`*^9, 3.870750041728067*^9}, {3.8707500926722035`*^9, 
   3.870750092976182*^9}, {3.870839465331234*^9, 3.870839465728797*^9}, {
   3.870841586095487*^9, 3.870841597410451*^9}, {3.87084165214515*^9, 
   3.8708416528300953`*^9}, {3.870841816132886*^9, 3.8708418209801073`*^9}, {
   3.870842064643364*^9, 3.870842064672759*^9}, {3.8708455111756153`*^9, 
   3.870845512567637*^9}, {3.870851812107535*^9, 3.870851848481228*^9}},
 CellLabel->
  "In[133]:=",ExpressionUUID->"c3cc7291-03a6-4e7b-ac30-d01b0ff8c2af"]
}, Open  ]]
},
WindowSize->{958, 1108},
WindowMargins->{{Automatic, -7}, {Automatic, 0}},
TaggingRules->{
 "DocuToolsSettings" -> {
   "$ApplicationName" -> "QMRITools", "$LinkBase" -> "QMRITools", 
    "$DocumentationDirectory" -> 
    "D:\\werk\\workspace\\QMRITools\\QMRITools\\Documentation\\English\\", 
    "$ApplicationDirectory" -> "D:\\werk\\workspace\\QMRITools\\QMRITools"}, 
  "WelcomeScreenSettings" -> {"FEStarting" -> False}, "TryRealOnly" -> False},
FrontEndVersion->"13.1 for Microsoft Windows (64-bit) (June 16, 2022)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"4b688ee9-c17d-4d5b-ba03-9f72faf2c9cc"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 206, 4, 54, "Subsection",ExpressionUUID->"0aca349d-2ae9-4f9a-b400-eda6367aaadd"],
Cell[789, 28, 1626, 29, 288, "Text",ExpressionUUID->"519d8796-b7bd-4318-8c80-cf4431fcef99"],
Cell[CellGroupData[{
Cell[2440, 61, 256, 4, 45, "Subsubsection",ExpressionUUID->"710c6873-a088-4b33-9c18-199963f9d8cc"],
Cell[CellGroupData[{
Cell[2721, 69, 9671, 256, 870, "Input",ExpressionUUID->"590cc3bd-2106-4136-90e3-f0a29d348d5d"],
Cell[12395, 327, 1219, 33, 83, "Output",ExpressionUUID->"4d2bbc19-be79-4d62-b562-4541f49df278"],
Cell[13617, 362, 436, 7, 33, "Output",ExpressionUUID->"7343adfd-5faa-4ba5-a328-bd8eda922337"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[14102, 375, 320, 5, 45, "Subsubsection",ExpressionUUID->"048a9d4f-fa56-42e5-b560-1263de34c848"],
Cell[CellGroupData[{
Cell[14447, 384, 7738, 201, 690, "Input",ExpressionUUID->"b5d2409d-1f68-4eb2-a52d-b1e607971c44"],
Cell[22188, 587, 812, 24, 65, "Output",ExpressionUUID->"22a4d67b-00b4-4dbf-8a49-204d72ec58be"],
Cell[23003, 613, 182, 3, 33, "Output",ExpressionUUID->"831f13ba-f931-439e-bfd5-310b642564d2"]
}, Open  ]],
Cell[CellGroupData[{
Cell[23222, 621, 270, 6, 50, "Input",ExpressionUUID->"3a746175-f44e-4ee2-a0f3-7a8c6597759c"],
Cell[23495, 629, 789, 24, 65, "Output",ExpressionUUID->"1840d07e-4e70-4b90-88b7-141f6b0913a2"],
Cell[24287, 655, 158, 3, 33, "Output",ExpressionUUID->"a0c3acb2-3f02-4dbd-8779-45656be2fd94"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[24506, 665, 173, 3, 54, "Subsection",ExpressionUUID->"ad2682c5-95d8-4dfb-be44-592cc64e544b"],
Cell[CellGroupData[{
Cell[24704, 672, 167, 3, 45, "Subsubsection",ExpressionUUID->"f2886838-22ed-4bf9-a4d4-cbd786f321c5"],
Cell[24874, 677, 1996, 51, 130, "Input",ExpressionUUID->"61a53e09-1833-474f-9189-e2024df1d676"],
Cell[CellGroupData[{
Cell[26895, 732, 493, 10, 50, "Input",ExpressionUUID->"8df2482a-5a44-450e-aef9-a721b418941f"],
Cell[27391, 744, 611, 12, 43, "Output",ExpressionUUID->"a9c3638d-f031-4a62-915c-e581bfe2c643"],
Cell[28005, 758, 610, 12, 43, "Output",ExpressionUUID->"d959ec56-b289-4959-8247-726db819cded"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[28664, 776, 395, 6, 45, "Subsubsection",ExpressionUUID->"d578623e-1fb3-46a3-a51b-0005cb8a216b"],
Cell[29062, 784, 275, 6, 35, "Text",ExpressionUUID->"04663314-c27d-452c-adea-002bebb1da5f"],
Cell[CellGroupData[{
Cell[29362, 794, 472, 11, 50, "Input",ExpressionUUID->"a2bf6c33-bd58-46f3-94a3-85a46571f3bc"],
Cell[29837, 807, 330, 6, 33, "Output",ExpressionUUID->"d59b6fc0-e1c3-4ba1-82bf-bfabc0da9894"],
Cell[30170, 815, 326, 6, 33, "Output",ExpressionUUID->"db637ca7-b620-4b55-b8e2-9680e2b9a4f4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[30533, 826, 496, 11, 50, "Input",ExpressionUUID->"91017a69-73f1-4dfc-b85e-a3dd8a308c0c"],
Cell[31032, 839, 436, 9, 33, "Output",ExpressionUUID->"f1e69107-581c-42c5-8758-94cdf13d9224"],
Cell[31471, 850, 433, 9, 33, "Output",ExpressionUUID->"995bc334-d60b-4919-bfa6-b74cf660e31a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[31941, 864, 663, 16, 50, "Input",ExpressionUUID->"aff283b1-1acd-4f6a-91d8-72f6a531df44"],
Cell[32607, 882, 1439, 36, 94, "Output",ExpressionUUID->"24e3d7db-c160-400b-bd4d-10f6d9347cad"],
Cell[34049, 920, 1440, 36, 94, "Output",ExpressionUUID->"a7bd9475-6292-4580-afbd-0a27daf30960"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[35538, 962, 172, 3, 45, "Subsubsection",ExpressionUUID->"262b3d97-27be-420a-9745-009691669b51"],
Cell[35713, 967, 317, 7, 35, "Text",ExpressionUUID->"faa3e02c-8f9a-4e24-be99-ccfa91d33857"],
Cell[CellGroupData[{
Cell[36055, 978, 1320, 39, 70, "Input",ExpressionUUID->"9bf750d1-169c-4c7f-80d1-7d224a2bde3e"],
Cell[37378, 1019, 376, 8, 33, "Output",ExpressionUUID->"6ae33b1b-3c23-4db1-a645-28bb400f9e11"],
Cell[37757, 1029, 273, 4, 33, "Output",ExpressionUUID->"4b2872f6-a013-43db-94a5-ec2bac2b960a"]
}, Open  ]],
Cell[38045, 1036, 661, 14, 127, "Text",ExpressionUUID->"82e7ca07-9a2f-4681-ae77-1ff189be6dcc"],
Cell[CellGroupData[{
Cell[38731, 1054, 1068, 29, 50, "Input",ExpressionUUID->"ada36306-2de6-4a84-88b2-e4b92d6a68e4"],
Cell[39802, 1085, 434, 8, 33, "Output",ExpressionUUID->"702c9127-661c-4c1d-9537-34ad8399be2a"],
Cell[40239, 1095, 434, 8, 33, "Output",ExpressionUUID->"0dbed7e0-4545-4f14-a3fc-3d3a410b40d0"]
}, Open  ]],
Cell[40688, 1106, 325, 7, 35, "Text",ExpressionUUID->"0aa95eba-7fab-4d01-9858-7b0133d80ee3"],
Cell[CellGroupData[{
Cell[41038, 1117, 1523, 40, 90, "Input",ExpressionUUID->"b772af55-10d4-4081-87c1-03d54c983c11"],
Cell[42564, 1159, 1864, 54, 98, "Output",ExpressionUUID->"f4fb63d4-0316-491e-b66f-e70c1667b45b"]
}, Open  ]],
Cell[44443, 1216, 502, 9, 81, "Text",ExpressionUUID->"f37b0e75-5a15-4dd5-b6fb-48290cd8e0c7"],
Cell[CellGroupData[{
Cell[44970, 1229, 2613, 71, 150, "Input",ExpressionUUID->"038e29ba-5100-4d51-8cf5-71462c5025df"],
Cell[47586, 1302, 1879, 54, 98, "Output",ExpressionUUID->"891cf512-3446-4597-93c4-61b37ad976fa"],
Cell[49468, 1358, 1452, 42, 82, "Output",ExpressionUUID->"2c3cccc8-ab30-4e56-a12c-4c16491a16d4"]
}, Open  ]],
Cell[50935, 1403, 651, 13, 104, "Text",ExpressionUUID->"cf9eb09e-2175-4e4b-a358-1961cd3b0c9c"],
Cell[CellGroupData[{
Cell[51611, 1420, 2464, 63, 190, "Input",ExpressionUUID->"4f6e81e1-0773-46b5-afc9-7e4aade0afde"],
Cell[54078, 1485, 495, 10, 33, "Output",ExpressionUUID->"2b88cda2-de7b-4dfd-a273-920c47217dae"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[54622, 1501, 192, 3, 45, "Subsubsection",ExpressionUUID->"f60e01ed-dbeb-4a42-9491-f64c19be9e6d"],
Cell[54817, 1506, 281, 6, 35, "Text",ExpressionUUID->"fad81f23-e527-4de2-9d28-3ab189beeab9"],
Cell[CellGroupData[{
Cell[55123, 1516, 997, 26, 90, "Input",ExpressionUUID->"527baf2c-5849-4fad-a0e7-54cfb54c1685"],
Cell[56123, 1544, 233, 3, 33, "Output",ExpressionUUID->"34ad6a10-b165-4b87-90fe-692a544993d7"],
Cell[56359, 1549, 231, 3, 33, "Output",ExpressionUUID->"466724ed-295c-478b-bf92-6b4818b53871"]
}, Open  ]],
Cell[CellGroupData[{
Cell[56627, 1557, 1133, 28, 90, "Input",ExpressionUUID->"fa12f5c6-6606-4d54-9878-fd21d7d8f23a"],
Cell[57763, 1587, 282, 4, 33, "Output",ExpressionUUID->"f33735a0-ac57-4283-a05d-b2478f1e2c3c"],
Cell[58048, 1593, 280, 4, 33, "Output",ExpressionUUID->"4b25ebfe-6a65-40c7-8133-eb45badcee36"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[58389, 1604, 177, 3, 54, "Subsection",ExpressionUUID->"aa34366e-634b-4a6a-840f-2c2014cd5503"],
Cell[CellGroupData[{
Cell[58591, 1611, 290, 5, 45, "Subsubsection",ExpressionUUID->"33941e42-fbe2-418a-af93-b07e4f0a125a"],
Cell[58884, 1618, 402, 8, 58, "Text",ExpressionUUID->"5c5cdefc-2e0a-481f-b5fb-c0ae5a38693e"],
Cell[59289, 1628, 1324, 32, 90, "Input",ExpressionUUID->"d2f5087e-d5e1-407d-86ae-72cce1a539c4"],
Cell[CellGroupData[{
Cell[60638, 1664, 2808, 78, 230, "Input",ExpressionUUID->"180672ad-fab2-4f33-827e-12a83f817867"],
Cell[63449, 1744, 227, 3, 33, "Output",ExpressionUUID->"c8300297-5d2a-40ac-989e-ccff0218e7b4"],
Cell[63679, 1749, 229, 3, 33, "Output",ExpressionUUID->"f6294d30-53e2-4240-bfe5-8cd451695fc5"],
Cell[63911, 1754, 502, 11, 33, "Output",ExpressionUUID->"6bd42902-7e3a-4dde-b066-ee30c87cf6f2"],
Cell[64416, 1767, 274, 5, 33, "Output",ExpressionUUID->"55b1dbdb-008a-4d15-8d65-6d107536be43"],
Cell[64693, 1774, 501, 11, 33, "Output",ExpressionUUID->"372b2438-7d52-49bc-8a87-dacee3cf9294"],
Cell[65197, 1787, 275, 5, 33, "Output",ExpressionUUID->"b41c4d6d-e8cb-4690-bf3f-a87d144aa91a"],
Cell[65475, 1794, 503, 11, 33, "Output",ExpressionUUID->"f873dbbd-13d5-4158-80ef-e41f2a7d1b43"],
Cell[65981, 1807, 235, 3, 33, "Output",ExpressionUUID->"d175b389-c453-45fd-99cc-ad22726fe0bf"]
}, Open  ]],
Cell[CellGroupData[{
Cell[66253, 1815, 2772, 66, 110, "Input",ExpressionUUID->"0e915ae6-4898-4b7e-988f-c6f08cc4fc13"],
Cell[69028, 1883, 415, 6, 33, "Output",ExpressionUUID->"b863634f-8b75-4362-9b48-af34b705f8b6"],
Cell[69446, 1891, 416, 6, 33, "Output",ExpressionUUID->"57c2d990-dcbc-45bd-9138-2f44cd23d4e2"],
Cell[69865, 1899, 516, 10, 33, "Output",ExpressionUUID->"9974382e-285d-40f0-83bb-a016e46ef2c0"]
}, Open  ]],
Cell[70396, 1912, 248, 6, 35, "Text",ExpressionUUID->"ad8d53bf-e2ee-478f-9063-a6a55ab0daaa"],
Cell[CellGroupData[{
Cell[70669, 1922, 3435, 91, 230, "Input",ExpressionUUID->"d5ca6ac9-f9e0-41e3-9fd3-f3957e02ea0b"],
Cell[74107, 2015, 484, 8, 33, "Output",ExpressionUUID->"5e3887bb-8189-4d29-bbab-b9dbb2515671"],
Cell[74594, 2025, 487, 8, 33, "Output",ExpressionUUID->"306d7977-2bb6-4ac7-9c6f-23b882669b22"],
Cell[75084, 2035, 429, 6, 33, "Output",ExpressionUUID->"c2e0f5d1-d3f7-4795-a90b-07f04db6a772"],
Cell[75516, 2043, 485, 8, 33, "Output",ExpressionUUID->"738dcb27-2620-4c14-9611-d8fecb2829d9"],
Cell[76004, 2053, 484, 8, 33, "Output",ExpressionUUID->"deffa2c7-1064-4347-8d02-4ea1f8ad3269"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[76537, 2067, 367, 6, 45, "Subsubsection",ExpressionUUID->"71f15aaa-b629-418e-8ab4-054201d1ccbb"],
Cell[76907, 2075, 340, 7, 35, "Text",ExpressionUUID->"dbc15ec3-49ed-492b-ab97-481ac9273151"],
Cell[77250, 2084, 1251, 31, 90, "Input",ExpressionUUID->"224edf3e-4efb-4a65-93eb-a5b0df03d001"],
Cell[CellGroupData[{
Cell[78526, 2119, 2808, 78, 230, "Input",ExpressionUUID->"f9f52d25-0edb-4399-a112-aab8b16451cb"],
Cell[81337, 2199, 553, 8, 33, "Output",ExpressionUUID->"9da4fe8f-79b9-4d25-bc33-ac2add87b4aa"],
Cell[81893, 2209, 551, 8, 33, "Output",ExpressionUUID->"dfefe88e-7c20-4c94-bd74-3894e0f76d65"],
Cell[82447, 2219, 833, 16, 33, "Output",ExpressionUUID->"399d58f7-edb8-4f63-90cb-3d9b86fa1f89"],
Cell[83283, 2237, 599, 10, 33, "Output",ExpressionUUID->"55ac4e8d-633b-4a0d-ac69-8088b42c41ee"],
Cell[83885, 2249, 824, 16, 33, "Output",ExpressionUUID->"70db27d0-2880-48ca-9d58-d5a4cc5c69aa"],
Cell[84712, 2267, 601, 10, 33, "Output",ExpressionUUID->"47072cfd-ec77-4062-8431-d1d5f628f848"],
Cell[85316, 2279, 833, 16, 33, "Output",ExpressionUUID->"67e1dec6-5e22-4321-a21f-92f65a41d4a0"],
Cell[86152, 2297, 560, 8, 33, "Output",ExpressionUUID->"48dd5320-5b25-44f3-859f-e5263c8bf3a0"]
}, Open  ]],
Cell[86727, 2308, 270, 6, 35, "Text",ExpressionUUID->"7fc15083-54a7-457d-a410-92b3eace5e80"],
Cell[CellGroupData[{
Cell[87022, 2318, 2609, 61, 90, "Input",ExpressionUUID->"2373af55-2a8f-4f43-a956-8388517af2d3"],
Cell[89634, 2381, 395, 6, 33, "Output",ExpressionUUID->"0e905b4d-e71f-4fa2-828a-483926166e49"],
Cell[90032, 2389, 395, 6, 33, "Output",ExpressionUUID->"0178c9f2-f037-44a7-8192-33e9be65a467"]
}, Open  ]],
Cell[CellGroupData[{
Cell[90464, 2400, 2173, 53, 130, "Input",ExpressionUUID->"247ae090-c68a-4f60-b156-f223f15aaf4d"],
Cell[92640, 2455, 466, 9, 33, "Output",ExpressionUUID->"d3bfc811-a167-4fc8-951c-73cac2052530"],
Cell[93109, 2466, 466, 9, 33, "Output",ExpressionUUID->"90aa613b-11d0-44ea-8d13-15b306ac970f"],
Cell[93578, 2477, 411, 7, 33, "Output",ExpressionUUID->"7d662b09-5a07-4429-b07c-db99067fced2"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[94038, 2490, 165, 3, 45, "Subsubsection",ExpressionUUID->"dd5bf366-9bf5-4406-a520-d55ebf261259"],
Cell[94206, 2495, 291, 7, 35, "Text",ExpressionUUID->"6c2bb313-732e-48b0-b32d-ee29dfaf7f49"],
Cell[94500, 2504, 1307, 33, 90, "Input",ExpressionUUID->"28fdc823-2a77-48c2-a4a3-d9526127456d"],
Cell[CellGroupData[{
Cell[95832, 2541, 2691, 77, 230, "Input",ExpressionUUID->"05b33286-b2fe-447b-b3ef-35f18e74bece"],
Cell[98526, 2620, 579, 9, 33, "Output",ExpressionUUID->"62fea933-f8ea-4f39-bf94-a4a82bfe5fbe"],
Cell[99108, 2631, 576, 9, 33, "Output",ExpressionUUID->"8d6b686a-fe9c-406e-8b03-6a0f88d4a18e"],
Cell[99687, 2642, 856, 17, 33, "Output",ExpressionUUID->"071e185e-fc64-458b-90af-f0d03773f5a3"],
Cell[100546, 2661, 845, 17, 33, "Output",ExpressionUUID->"fd729907-9af9-426d-87bc-68c65d05bef6"],
Cell[101394, 2680, 854, 17, 33, "Output",ExpressionUUID->"f637b064-a51a-44a1-b707-d9dacce5439d"],
Cell[102251, 2699, 586, 9, 33, "Output",ExpressionUUID->"2fa79269-e477-4252-a569-ffd6180b483a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[102874, 2713, 2154, 53, 130, "Input",ExpressionUUID->"56539c5e-c086-44c7-8b31-091502a8428b"],
Cell[105031, 2768, 261, 6, 33, "Output",ExpressionUUID->"ba1dc8a7-78ba-440f-924d-11290356f6f6"],
Cell[105295, 2776, 262, 6, 33, "Output",ExpressionUUID->"6e517d6e-164c-4e61-ac51-e27879a0f871"],
Cell[105560, 2784, 205, 4, 33, "Output",ExpressionUUID->"d5c82526-d9ad-4738-8248-af58c1c230f3"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[105826, 2795, 157, 3, 54, "Subsection",ExpressionUUID->"4b19e438-7ab3-4f39-aab9-19bc65aafc42"],
Cell[105986, 2800, 6904, 173, 526, "Input",ExpressionUUID->"c3cc7291-03a6-4e7b-ac30-d01b0ff8c2af",
 InitializationCell->True]
}, Open  ]]
}
]
*)

